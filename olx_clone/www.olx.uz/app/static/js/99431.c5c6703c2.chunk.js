"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[99431],{87716:(e,t,n)=>{n.d(t,{J:()=>a});var r=n(24718),i=n.n(r),o=n(48508),a=e=>{!i()(e)&&(0,o.jU)()&&"undefined"!=typeof window&&localStorage.setItem("saved-job-listing-location-filter",JSON.stringify(e))}},17561:(e,t,n)=>{n.d(t,{v:()=>c});var r=n(14128);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=e=>e.map((e=>o(o({},e),{},{applied_filter:(0,r.N)(e).count})))},5867:(e,t,n)=>{n.d(t,{A:()=>d});var r,i,o=n(46070),a=n(98283),c=n(57766);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=(0,a.default)(o.P4)(r||(r=l(["\n    color: ",";\n    margin-top: 0;\n"])),(e=>{var{theme:t}=e;return t.colors.$06_gray})),u=a.default.span(i||(i=l(["\n    ","\n"])),(e=>{var{theme:t,highlight:n}=e;return"\n        background-color: ".concat(n?t.colors["background-brand-highlight-secondary"]:"transparent",";\n        padding: ").concat(n?"".concat(t.space[2]," ").concat(t.space[4]):"0",";\n        border-radius: ").concat(t.radii[4],";\n        margin-right: ").concat(t.space[2],";\n        margin-top: ").concat(t.space[2],";\n        display: inline-block;\n        &:empty {\n            display: none;\n        }\n    ")})),d=function(e){var t,{parentsCategory:n,category:r}=e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=50,a=new Array(...null!=n?n:[]).reverse(),l=(null==r?void 0:r.label)||"",d=null!=a&&a.length?null===(t=a.shift())||void 0===t?void 0:t.label:"",p=null!=a&&a.length?a.map(((e,t)=>l.length>0?e.label+" /":a.length-1===t?e.label:e.label+" /")).join(" "):"",f="".concat(d," ").concat(p," ").concat(l?" / "+l:""),g=d&&(p||l)?" / ":"";return(0,c.jsxs)(s,{"data-testid":"search-suggestion-item-breadcurmbs",children:[(0,c.jsx)(u,{highlight:i,children:d}),g,f.length>o?"... /":p," ",l]})}},85090:(e,t,n)=>{n.d(t,{n:()=>P});var r=n(71803),i=n(2113),o=n.n(i),a=n(72714),c=n.n(a),l=n(95607),s=n.n(l),u=n(841),d=["olxbg","olxro","olxkz","olxuz"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(29483),h=n(61146),y=n(49837),b=n(26753),m=n(43603),j=n(7207);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){var[n]=(0,h.L_)(),{apiEnv:i,platform:a,siteCode:l,langISOCode:p}=(0,y.MG)(),g=a===j.t4.DESKTOP,O=function(e){return"staging"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"production")?"https://discovery-autocomplete-api.stg.01.eu-west-1.eu.olx.org/api/v1/search/autocomplete":d.includes(e)?"https://discovery-autocomplete-api.prd.01.eu-central-1.eu.olx.org/api/v1/search/autocomplete":"https://discovery-autocomplete-api.prd.01.eu-west-1.eu.olx.org/api/v1/search/autocomplete"}(l,i),{laquesisCookie:x}=(0,m.useLaquesisCookies)(),P=(0,r.useRef)(null),S=(0,r.useRef)(!0),_=(0,r.useRef)(0),[k,I]=(0,r.useState)(null),E=w(w({},x&&{Laquesis:x}),{},{"accept-language":p,"X-Client-Name":g?"desktop":"mweb"}),C=e=>(_.current+=1,(0,u.t5)(O,e).then((e=>{S.current&&(_.current<2&&(I(e),null==t||t(!1)),_.current=_.current-1)})).catch((e=>{v.default.captureExceptionNewRelic({exception:e,capability:b.C.SearchListingResult}),_.current<2&&(null==t||t(!0)),_.current=_.current-1})));return(0,r.useEffect)((()=>(P.current=o()(C,250),S.current=!0,()=>{S.current=!1})),[]),(0,r.useEffect)((()=>{if(!P.current||!e||e.trim().length<3)I(null);else{null==t||t(!0);var n=((e,t,n)=>({queryParams:{query:t||"",types:"popular_category,popular_query",limit:10,site:e},method:"GET",headers:n}))(l,e,E);P.current(n)}}),[e]),(0,r.useMemo)((()=>{return c()((e=null==k?void 0:k.data)&&0!==e.length?e.map(((t,n)=>{var r,i;return e.some(((e,r)=>{return n!==r&&(o=t,(i=e).query===o.query&&i.category.label===o.category.label);var i,o}))?f(f({},t),{},{extraCatLabel:null===(r=t.parentsCategory)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.label}):t})):[],(e=>{var t,r;return s()(e,["category","label"],null===(t=n[null==e||null===(r=e.category)||void 0===r?void 0:r.id])||void 0===t?void 0:t.name)}));var e}),[null==k?void 0:k.data,n])}},15081:(e,t,n)=>{n.d(t,{l:()=>d}),n(71803);var r,i,o,a=n(41226),c=n(67685),l=n(98283),s=n(57766),u=(0,l.default)(a.Button)(r||(i=["\n    ","\n"],o||(o=i.slice(0)),r=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))),(e=>{var{theme:t}=e;return"\n        padding:".concat(t.space[0],";\n        border:none;\n        position:absolute;\n        top:50%;\n        transform:translateY(-50%);\n        right: ").concat(t.space[8],";\n    ")})),d=e=>{var{onClear:t}=e;return(0,s.jsx)(u,{variant:"flat","data-testid":"clear-btn",onClick:t,children:(0,s.jsx)(c.x8P,{size:20})})}},81801:(e,t,n)=>{var r,i,o,a,c=n(98283),l=n(94703),s=n(57766);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=(0,l.ZP)({resolved:{},chunkName:()=>"react-loading-skeleton",isReady(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(26857).then(n.t.bind(n,55150,23)),requireAsync(e){var t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){var t=this.resolve(e);return n(t)},resolve:()=>55150}),p=c.default.div(r||(r=u(["\n    padding: ",";\n"])),(e=>{var{theme:t}=e;return t.space[12]})),f=c.default.div(i||(i=u(["\n    padding: ",";\n    display: flex;\n    flex-direction: column;\n    height: 72px;\n"])),(e=>{var{theme:t}=e;return"".concat(t.space[16]," ").concat(t.space[8]," ").concat(t.space[8])})),g=c.default.div(o||(o=u(["\n    height: 60px;\n"]))),v=c.default.div(a||(a=u(["\n    display: flex;\n    padding: ",";\n    justify-content: space-between;\n    flex-grow: 1;\n"])),(e=>{var{theme:t}=e;return"".concat(t.space[16]," ").concat(t.space[8]," ")}));t.Z=()=>(0,s.jsxs)(p,{"data-testid":"listing-loading-skeleton","data-cy":"listing-loading-skeleton",children:[(0,s.jsx)(d,{width:150,height:10}),(0,s.jsxs)(f,{children:[(0,s.jsx)(d,{width:120,height:10}),(0,s.jsx)(d,{width:100,height:8})]}),(0,s.jsx)(d,{width:"100%",height:1}),(0,s.jsx)("div",{children:[...Array(5)].map(((e,t)=>(0,s.jsxs)(g,{children:[(0,s.jsxs)(v,{children:[(0,s.jsx)(d,{width:140,height:15}),(0,s.jsx)(d,{width:15,height:15})]}),(0,s.jsx)(d,{width:"100%",height:1})]},"skeletonItem-".concat(t))))})]})},87351:(e,t,n)=>{n.d(t,{Z:()=>gt});var r,i=n(90845),o=n(67685),a=n(98283),c=n(71803),l=n(38206),s=n(87716),u=n(66275),d=n(48048),p=n(48508),f=n(55738),g=n(12392),v=n(58844),h=n(2514),y=n(41226),b=n(57936),m=n(58560),j=n(98326),O=n(57766);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S,_,k,I,E=(0,a.default)(j.ZP)(r||(S=["\n    ","\n"],_||(_=S.slice(0)),r=Object.freeze(Object.defineProperties(S,{raw:{value:Object.freeze(_)}}))),(e=>{var{theme:t}=e;return"\n    border-left: 1px solid ".concat(t.colors.$03_gray,";\n\n    & > div {\n            padding: ").concat(t.space[8],";\n            height: ").concat(t.sizes[72],";\n            border-radius:").concat(t.radii[0],";\n        }\n        & button {\n            padding-left: ").concat(t.space[0],";\n            padding-right: ").concat(t.space[0],";\n        }\n        & a {\n            padding-left: ").concat(t.space[6],";\n            padding-right: ").concat(t.space[6],";\n            display: flex;\n            align-items: center;\n        }\n        a {\n            text-decoration: unset;\n            color: unset;\n            cursor: unset;\n        }\n")})),C=e=>{var{setValues:t,values:n,distances:r,track:i}=e,o=n.distance||0,a=(0,g.h)(o),c=r.map((e=>({id:e.value,label:"+".concat(e.value," km")})));return(0,O.jsx)(E,{"data-testid":"location-distance","data-cy":"location-distance",onDropdownExpansionChange:e=>{e&&i(d.yh.events.distanceChangeClick)},sourceItems:c,selectedIds:[o],onSelectedIdsChange:e=>{e[0]!==a&&(i(d.yh.events.distanceChangeValid,{filters:["distance"],filters_values:e}),t((t=>x(x({},t),{},{distance:e[0]}))))}})},D=n(24364),R=n.n(D),L=n(34283),z=n(80191),A=n(46070);function T(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N,M,q=e=>(0,p.I8)({title:e({id:"filters.wholeCountry",defaultMessage:"Select whole country"}),description:e({id:"filters.allInWholeCountry",defaultMessage:"All in whole country"})}),Z=a.default.ul(k||(k=T(["\n    margin: 0;\n    padding: 0;\n"]))),F=(0,a.default)(A.P4)(I||(I=T(["\n    margin: 0;\n    color: ",";\n"])),(e=>{var{theme:t}=e;return t.colors["text-global-secondary"]})),$=n(45040),H=n(1742),U=n(86601),B=n(42087),K=n(84605),V=n(44848),Y=n(94510),G=n(29483);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function X(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ee,te,ne,re,ie,oe,ae,ce,le,se,ue,de=a.default.div(N||(N=X(["\n    min-height: ",";\n    background-color: ",";\n    border-radius: ",";\n    margin: ",";\n"])),(e=>e.theme.sizes[64]),(e=>e.theme.colors.$01_teal_bg_light),(e=>e.theme.radii[4]),(e=>"".concat(e.theme.space[16]," ").concat(e.theme.space[8]))),pe=a.default.div(M||(M=X(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),fe=e=>{var{selectLocationHandler:t}=e,[n,r]=(0,c.useState)(!0),[o,a]=(0,c.useState)(),[l,s]=(0,c.useState)(!1),[u,p]=(0,c.useState)(),{formatMessage:f}=(0,i.useIntl)(),{trackEvent:g}=(0,d.rS)(),h=V.Z.permissionAllowed.get();(0,c.useEffect)((()=>{m(!!h)}),[]);var y,b,m=e=>{e&&g(d.yh.events.localizeMe),(0,B.ZP)(j,w)},j=function(){var e,t=(e=function*(e){var{coords:{latitude:t,longitude:n}}=e;g(d.d.events.getLocationSuccess),V.Z.permissionAllowed.set(!0);var i=V.Z.userLastLocationParams.get();if(i&&i.latitude===t&&i.longitude===n)return a(i.location),void r(!1);try{var o=yield(0,Y.Kx)({latitude:t,longitude:n});o||p(K.d.POSITION_UNAVAILABLE),V.Z.geoLocation.set(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o)),V.Z.userLastLocationParams.set({location:o,latitude:t,longitude:n}),a(o)}catch(e){p(K.d.TIMEOUT),G.default.captureException(e)}finally{r(!1)}},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Q(o,r,i,a,c,"next",e)}function c(e){Q(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),w=e=>{e.code===K.d.PERMISSION_DENIED?V.Z.permissionAllowed.set(!1):(g(d.d.events.getLocationFailed),V.Z.permissionAllowed.set(!0)),p(e.code),r(!1)},{title:x,subtitle:P}=(y="",b="",u===K.d.PERMISSION_DENIED?(y=f({id:"mylocation.deniedTitle"}),b=f({id:"mylocation.deniedSubtitle"})):u===K.d.POSITION_UNAVAILABLE||u===K.d.TIMEOUT?(y=f({id:"mylocation.unavailableTitle"}),b=f({id:"mylocation.unavailableSubtitle"})):void 0!==o?y=null==o?void 0:o.geoDescription:(y=f({id:"mylocation.unavailableTitle"}),b=f({id:"mylocation.unavailableSubtitle"})),{title:y,subtitle:b});return(0,O.jsx)(de,{"data-onboarding-id":"geo-location-button","data-testid":"user-location","data-cy":"user-location",children:(0,O.jsx)(H.Z,{title:x,subtitle:P,onClick:e=>{e.stopPropagation(),e.preventDefault(),o?(s(!0),(e=>{if(o){var n={district_id:o.districtId,city_id:o.cityId,region_id:o.regionId};g(d.d.events.gpsLocationSelected,n),t&&t(o)}})()):m(!0)},isLoading:n,rightSlot:!!o&&(0,O.jsx)(pe,{children:(0,O.jsx)(U.D_,{checked:l})}),icon:(0,O.jsx)(v.default,{size:24})})})},ge=n(81801),ve=n(26753);function he(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){he(o,r,i,a,c,"next",e)}function c(e){he(o,r,i,a,c,"throw",e)}a(void 0)}))}}function be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var me,je,Oe,we=a.default.div(ee||(ee=be(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        height: 400px;\n        overflow-y: scroll;\n        background:  ".concat(t.colors.$01_white,";\n        box-shadow: ").concat(t.shadows[8],";\n        border-radius: 0 0 ").concat(t.radii[4]," ").concat(t.radii[4],";\n        ::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 16px;\n        }\n        ::-webkit-scrollbar-thumb {\n            box-shadow: inset 0 0 14px 14px ").concat(t.colors.$05_gray,";\n            border: solid 6px transparent;\n            border-radius: 14px;\n        }\n\n        &:before {\n            display: block;\n            content: '';\n            position: absolute;\n            width: 100%;\n            margin: 0 auto;\n            height: 12px;\n            border: 0;\n            box-shadow: inset 0 12px 12px -12px rgba(0, 47, 52, 0.1);\n        }\n    ")})),xe=a.default.div(te||(te=be(["\n    margin-bottom: ",";\n"])),(e=>{var{theme:t}=e;return t.space[12]})),Pe=(0,a.default)((e=>{var{onChange:t,paddingLeft:n=8}=e,{formatMessage:r}=(0,i.useIntl)(),{title:o,description:a}=q(r);return(0,O.jsx)(Z,{children:(0,O.jsx)(z.ListItem,{"data-testid":"all-regions","data-cy":"all-regions",onClick:()=>t(q(r)),children:(0,O.jsxs)("div",{style:{height:"auto",paddingLeft:n},children:[o,(0,O.jsx)(F,{children:a})]})},"all_region")})}))(ne||(ne=be(["\n    padding: 0;\n"]))),Se=(0,a.default)(A.H4)(re||(re=be(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        font-size: ".concat(t.fontSizes[12],";\n        font-weight: ").concat(t.fontWeights[700],";\n        padding: ","".concat(t.space[8]," ").concat(t.space[16]," 0"),";\n    ")})),_e=a.default.ul(ie||(ie=be(["\n    margin: 0;\n    padding: 0;\n"]))),ke=(0,a.default)(z.ListItem)(oe||(oe=be(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-left: ".concat(t.space[16],";\n        &:hover {\n            background-color: ").concat(t.colors.$02_gray,";\n        }\n    ")})),Ie=(0,a.default)(z.ListItem)(ae||(ae=be(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-left: ".concat(t.space[16],";\n        &:hover {\n            background-color: ").concat(t.colors.$02_gray,";\n        }\n    ")})),Ee=(0,a.default)(z.ListItem)(ce||(ce=be(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-left: ".concat(t.space[16],";\n        &:hover {\n            background-color: ").concat(t.colors.$02_gray,";\n        }\n    ")})),Ce=(0,a.default)(z.ListItem)(le||(le=be(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-left: ".concat(t.space[16],";\n        width: 100%;\n        &:hover {\n            background-color: ").concat(t.colors.$02_gray,";\n        }\n    ")})),De=(0,a.default)(A.P4)(se||(se=be(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        color: ".concat(t.colors.$06_gray,";\n        padding-top: ").concat(t.space[4],";\n    ")})),Re=(0,a.default)(y.Button)(ue||(ue=be(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    margin: 0;\n    background: transparent;\n    cursor: pointer;\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding: ".concat(t.space[16],";\n        border-bottom: 1px solid ").concat(t.colors.$04_gray,";\n        &:hover {\n            background-color: ").concat(t.colors.$02_gray,";\n        }\n        .n-button-text-wrapper {\n            margin: 0;\n            font-weight: ").concat(t.fontWeights[100],";\n        }\n    ")})),Le=e=>{var{onChange:t}=e,{formatMessage:n}=(0,i.useIntl)(),[r,o]=(0,c.useState)(),[a,l]=(0,c.useState)(null),[s,d]=(0,c.useState)(null),[f,g]=(0,c.useState)(),[v,h]=(0,c.useState)(),y=(0,c.useRef)(null);(0,c.useEffect)((()=>{ye((function*(){try{var e=yield(0,u.nx)();o(e)}catch(e){G.default.captureException(e),G.default.captureExceptionNewRelic({exception:e,capability:ve.C.SearchListingResult})}}))()}),[]);var b,m,j,w,x=()=>{var e;null==y||null===(e=y.current)||void 0===e||e.scrollTo(0,0)},P=function(){var e=ye((function*(e){var{regionId:t,region:n}=e;if(t){g(e);var r=yield(0,u.gT)(t,n);l(r),x()}}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=ye((function*(e,n){var{regionId:r,region:i,city:o,cityId:a}=e;if(r&&a){if(n){var c=yield(0,u.hj)(a,null!=o?o:null,r,i);d(c),h(e)}else t((0,p.I8)(e));x()}}));return function(t,n){return e.apply(this,arguments)}}(),_=e=>{"to-cities"===e?d(null):l(null)};return(0,O.jsx)(we,{ref:y,"data-testid":"listing-wrapper","data-cy":"listing-wrapper",children:s?(b=R()(v,"regionId",null),m=R()(v,"cityId",null),j=R()(v,"title",""),w=(0,p.I8)({regionId:b,cityId:m,title:j,description:n({id:"filters.wholeCity"})}),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Re,{type:"button","data-testid":"districts-back-button","data-cy":"districts-back-button",onClick:()=>_("to-cities"),variant:"flat",prefixIcon:(0,O.jsx)($.default,{marginRight:12}),children:(0,O.jsx)(i.FormattedMessage,{id:"back",defaultMessage:"Back"})}),(0,O.jsxs)(xe,{"data-testid":"district-list","data-cy":"district-list",children:[(0,O.jsxs)("div",{children:[(0,O.jsxs)(Ce,{"data-testid":"all-districts","data-cy":"all-districts",onClick:()=>t(w),children:[w.title,w.description&&(0,O.jsx)(De,{children:w.description})]},"all_districts"),(0,O.jsx)(Se,{children:(0,O.jsx)(i.FormattedMessage,{id:"filters.selectCity",defaultMessage:"District"})})]}),s&&(0,O.jsx)(_e,{children:s.map(((e,n)=>(0,O.jsx)(ke,{"data-testid":"district-item","data-cy":"district-item",onClick:()=>t(e),children:e.description},"".concat(e.districtId?e.districtId:n,"_city"))))})]})]})):a?(()=>{var e=(0,p.I8)({regionId:f?f.regionId:null,title:f?f.title:"",description:n({id:"filters.wholeRegion"})});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Re,{type:"button","data-testid":"cities-back-button","data-cy":"cities-back-button",onClick:()=>_("to-regions"),variant:"flat",prefixIcon:(0,O.jsx)($.default,{marginRight:12}),children:(0,O.jsx)(i.FormattedMessage,{id:"back",defaultMessage:"Back"})}),(0,O.jsxs)(xe,{children:[(0,O.jsxs)("div",{children:[(0,O.jsxs)(Ce,{"data-testid":"all-cities","data-cy":"all-cities",onClick:()=>t(e),children:[e.title,e.description&&(0,O.jsx)(De,{children:e.description})]},"all_cities"),(0,O.jsx)(Se,{children:(0,O.jsx)(i.FormattedMessage,{id:"filters.selectCity",defaultMessage:"City"})})]}),a&&(0,O.jsx)(_e,{"data-testid":"cities-list","data-cy":"cities-list",children:a.map(((e,t)=>{var{cityId:n,title:r,has_districts:i}=e,o=i?Ie:ke;return(0,O.jsx)(o,{"data-testid":"city-item","data-cy":i?"city-item-parent":"city-item",onClick:()=>S(e,i),suffixIcon:i?L.default:void 0,children:r},"".concat(n||t,"_city"))}))})]})]})})():r?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(fe,{selectLocationHandler:t}),(0,O.jsxs)(xe,{"data-testid":"location-list","data-cy":"location-list",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(Pe,{onChange:t,paddingLeft:16}),(0,O.jsx)(Se,{children:(0,O.jsx)(i.FormattedMessage,{id:"filters.selectRegion",defaultMessage:"Choose a Region"})})]}),r&&(0,O.jsx)(_e,{"data-testid":"regions-list","data-cy":"regions-list",children:r.map(((e,t)=>(0,O.jsxs)(Ee,{"data-testid":"regions-item","data-cy":"regions-item",onClick:()=>P(e),suffixIcon:L.default,children:[e.title,e.description&&(0,O.jsx)(De,{children:e.description})]},"".concat(e.regionId?e.regionId:t,"_region"))))})]})]}):(0,O.jsx)(ge.Z,{})})},ze=n(24718),Ae=n.n(ze),Te=n(2113),Ne=n.n(Te);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function $e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var He,Ue,Be,Ke,Ve,Ye,Ge,We=a.default.div(me||(me=$e(["\n    position: absolute;\n    top: 100%;\n    width: 100%;\n    left: 0;\n    max-height: 400px;\n    overflow-y: scroll;\n    z-index: ",";\n    background: ",";\n    box-shadow: ",";\n    ::-webkit-scrollbar {\n        -webkit-appearance: none;\n        width: 16px;\n    }\n    ::-webkit-scrollbar-thumb {\n        box-shadow: inset 0 0 14px 14px ",";\n        border: solid 6px transparent;\n        border-radius: 14px;\n    }\n    &:before {\n        display: block;\n        content: '';\n        position: absolute;\n        width: 100%;\n        margin: 0 auto;\n        height: 12px;\n        border: 0;\n        box-shadow: inset 0 12px 12px -12px rgba(0, 47, 52, 0.1);\n    }\n"])),(e=>{var{theme:t}=e;return t.zIndices.dropdown}),(e=>{var{theme:t}=e;return t.colors.$01_white}),(e=>{var{theme:t}=e;return t.shadows[8]}),(e=>{var{theme:t}=e;return t.colors.$05_gray})),Je=(0,a.default)(z.ListItem)(je||(je=$e(["\n    padding: ",";\n"])),(e=>{var{theme:t}=e;return t.space[16]})),Qe=(0,a.default)(A.P4)(Oe||(Oe=$e(["\n    color: ",";\n    margin-top: ",";\n"])),(e=>{var{theme:t}=e;return t.colors.$06_gray}),(e=>{var{theme:t}=e;return t.space[4]})),Xe=e=>{var{inputQuery:t,setShowSuggestion:n,setSelectedLocation:r}=e,{markInteractionEndRef:i}=(0,f.oR)(),[o,a]=(0,c.useState)(),l=Ne()(function(){var e,t=(e=function*(e){var t=yield(0,u.VV)(e);null!=t&&t.length&&a(t)},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Fe(o,r,i,a,c,"next",e)}function c(e){Fe(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),600);return(0,c.useEffect)((()=>{t?l(t):a([])}),[t]),Ae()(o)?null:(0,O.jsx)(We,{"data-testid":"suggestion-list","data-cy":"suggestion-list",children:o&&o.map(((e,t)=>(0,O.jsxs)(Je,{innerRef:0===t?i:null,"data-testid":"suggestion-item","data-cy":"suggestion-item",onClick:()=>{r(e),n((e=>qe(qe({},e),{},{showSuggestions:!1})))},children:[(0,O.jsx)(A.P2,{children:e.title}),(0,O.jsx)(Qe,{children:e.description})]},t)))})},et=n(223);function tt(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var at=a.default.div(He||(He=ot(["\n    width: 100%;\n    height: ",";\n    position: relative;\n    z-index: ",";\n    background-color: ",";\n    display: flex;\n"])),(e=>{var{theme:t}=e;return t.sizes[72]}),(e=>{var{theme:t}=e;return t.zIndices.dropdown}),(e=>{var{theme:t}=e;return t.colors["background-brand-fields-inverse"]})),ct=a.default.div(Ue||(Ue=ot(["\n    position: relative;\n    width: 100%;\n"]))),lt=a.default.div(Be||(Be=ot(["\n    position: relative;\n"]))),st=(0,a.default)(v.default)(Ke||(Ke=ot(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        margin-top: ".concat(t.space[10],";\n        color: ").concat(t.colors.$07_charcoal,";\n    ")})),ut=(0,a.default)(h.nv)(Ve||(Ve=ot(["\n    ","\n"])),(e=>{var{theme:t,selected:n}=e;return"\n        ".concat(n?"font-weight: ".concat(t.fontWeights[700],";"):"","\n        border-radius: ").concat(t.radii[0],";\n        border-color: ").concat(t.colors["borders-global-inverse"],";\n        background-color: ").concat(t.colors["background-brand-fields-inverse"],";\n        height: ").concat(t.sizes[72],";\n    ")})),dt=a.default.div(Ye||(Ye=ot(["\n    width: 35%;\n"]))),pt=(0,a.default)(y.Button)(Ge||(Ge=ot(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding: ".concat(t.space[0],";\n        border: none;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        right: ").concat(t.space[12],";\n    ")})),ft={clicked:d.Sp.events.locationClicked,typing:d.Sp.events.locationTyping,changed:d.Sp.events.locationChanged,cleared:d.Sp.events.locationClear},gt=e=>{var{setValues:t,values:n,track:r,distances:a,className:d,isJobsCategory:v=!1,isDistanceAlwaysActive:h=!1,onSelect:y,onClear:j}=e,{restart:w}=(0,f.oR)(),{formatMessage:x}=(0,i.useIntl)(),[P,S]=(0,c.useState)({showSuggestions:!1,showLocations:!1}),[_,k]=(0,c.useState)(""),[I,E]=(0,c.useState)(!1),D=(0,c.useRef)(null),{isFeatureFlag:R}=(0,m.Z)(),{isDeliveryEnabledForCategory:L}=(0,c.useContext)(et.o7),{city_id:z,district_id:A,region_id:T}=n,N=!(null==a||!a.length)&&(!!z||!!A||h),M=x({id:"filters.wholeCountry",defaultMessage:"Entire country"});(0,g.m)(D,(()=>{S({showSuggestions:!1,showLocations:!1})}),!0);var q=(0,c.useCallback)((()=>{var e=R(b.h.react18newAPI)?queueMicrotask:l.flushSync;r(ft.cleared,{city_id:z,district_id:A,region_id:T}),S({showSuggestions:!1,showLocations:!1}),k(""),e((()=>{t((e=>rt(rt({},e),{},{city_id:void 0,region_id:void 0,district_id:void 0,distance:void 0})))})),null==j||j()}),[z,A,T,j,t,r,R]),Z=(0,c.useCallback)((e=>{if(e){var{cityId:n,districtId:i,regionId:o}=e,a=R(b.h.react18newAPI)?queueMicrotask:l.flushSync;p.RL.add((0,p.I8)(e));var c={city_id:n,district_id:i,region_id:o};r(ft.changed,c),a((()=>{t((e=>rt(rt(rt({},e),c),{},{distance:0})))})),S({showSuggestions:!1,showLocations:!1}),null==y||y(c)}}),[R,r,y,t]);return(0,c.useEffect)((()=>{if(z||A||T){var e=p.RL.find({cityId:z,districtId:A,regionId:T});!function(){var t,n=(t=function*(){var t,n=!!A;null!==(t=e)&&void 0!==t&&t.city||!z||(e=n?yield(0,u.Rf)(A):yield(0,u.w8)(z)),z||A||!T||(e=yield(0,u.n4)(T));var r=e&&(0,p.I8)(e);r&&(v&&(0,s.J)(r),k(n?"".concat(r.city,", ").concat(r.title):"".concat(r.title).concat(r.region&&r.region!==r.title?", ".concat(r.region):"")))},function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){tt(o,r,i,a,c,"next",e)}function c(e){tt(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}()()}else k("")}),[z,A,v,T]),(0,O.jsxs)(at,{ref:D,className:d,children:[(0,O.jsxs)(ct,{children:[(0,O.jsx)(lt,{children:(0,O.jsx)(ut,{id:"location-input",renderPrefix:()=>(0,O.jsx)(st,{id:"location-input-icon",size:24,color:"icon-global-disabled"}),name:"location-Field","data-testid":"location-search-input","data-cy":"location-search-input",value:_,onChange:e=>{var t=e.target.value,n=t.length>1;if(k(t),I||(r(ft.typing),E(!0)),n)return w(),void S({showSuggestions:!0,showLocations:!1});S({showSuggestions:!1,showLocations:!0})},onFocus:e=>{var t=e.target.value,n=(!T||!z)&&t.length>1;S({showSuggestions:n,showLocations:!n}),r(ft.clicked)},"aria-label":M,placeholder:M,selected:(null==_?void 0:_.length)>0,renderSuffix:()=>(null==_?void 0:_.length)>0?(0,O.jsx)(pt,{size:"small",variant:"flat","data-testid":"clear-btn","data-cy":"clear-btn",onClick:q,children:(0,O.jsx)(o.x8P,{})}):void 0})}),P.showSuggestions&&(0,O.jsx)(Xe,{inputQuery:_,setShowSuggestion:S,setSelectedLocation:Z}),P.showLocations&&(0,O.jsx)(Le,{onChange:Z})]}),N&&(0,O.jsx)(dt,{children:(0,O.jsx)(C,{track:r,distances:a,setValues:t,values:n})})]})}},1395:(e,t,n)=>{n.d(t,{M:()=>K});var r,i,o,a,c,l,s=n(48048),u=n(48508),d=n(90845),p=n(55738),f=n(12392),g=n(67685),v=n(68184),h=n(5592),y=n(98283),b=n(71803),m=n(1739),j=n(13731),O=n(17561),w=n(25394),x=n(15081),P=n(46070),S=(0,y.default)(P.P4)(r||(i=["\n    color: ",";\n"],o||(o=i.slice(0)),r=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))),(e=>{var{theme:t}=e;return t.colors["text-global-secondary"]})),_=n(87602),k=n.n(_),I=n(57766),E=b.memo((e=>{var{formatMessage:t}=(0,d.useIntl)(),{recentSearch:n,handleSelect:r,query:i="",label:o,type:a,handleClear:c}=e,l=t({id:"suggestion.applied.filters",defaultMessage:"Applied filters"});if(0===n.length)return null;var s=n.filter((e=>e.query.includes(i)));return 0===s.length?null:(0,I.jsxs)(I.Fragment,{children:[o,s.map(((e,t)=>(0,I.jsxs)(w.Al,{"data-testid":"recent-search-item",onClick:()=>r(e,a),children:[(0,I.jsx)(P.P2,{dangerouslySetInnerHTML:{__html:e.query.replace(new RegExp(k()(i),"i"),"<b>$&</b>")}}),!!e.applied_filter&&(0,I.jsx)(S,{as:"span",children:"".concat(l," [").concat(e.applied_filter,"]")}),(0,I.jsx)(x.l,{onClear:t=>c(t,e)})]},"".concat(t).concat(e.query))))]})})),C=n(5867),D=n(85090),R=e=>{var{markInteractionEndRef:t}=(0,p.oR)(),{handleSelect:n=(()=>{}),query:r,label:i,type:o}=e,a=(0,D.n)(r,void 0);return a&&0!==a.length?(0,I.jsxs)(b.Fragment,{children:[i,a.map(((e,i)=>(0,I.jsxs)(w.Al,{ref:0===i?t:null,"data-testid":"search-suggestion-item",onClick:()=>n(e,o,i+1),children:[(0,I.jsx)(P.P2,{dangerouslySetInnerHTML:{__html:e.query.replace(new RegExp(k()(r),"i"),"<b>$&</b>")}}),(0,C.A)(e)]},"".concat(i,"-").concat(e.query.replace(" ","-")))))]}):null},L=n(65609),z=n(22489),A=["query","category"];function T(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var F=function(e){return e.HISTORY="history",e.SUGGESTION="suggestion",e.KEYWORD="keyword",e}(F||{}),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("%25")?decodeURI(e):e},H=(0,y.default)(h.oi)(a||(a=Z(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        border-radius: ".concat(t.radii[4]," ").concat(t.radii[0]," ").concat(t.radii[0]," ").concat(t.radii[4],";\n        border-color: ").concat(t.colors["borders-global-inverse"],";\n        background-color: ").concat(t.colors["background-brand-fields-inverse"],";\n        margin-bottom: ").concat(t.space[4],";\n        height: ").concat(t.sizes[72],";\n        \n        & #search {\n          height: ").concat(t.sizes[48],";\n        }\n    ")})),U=y.default.div(c||(c=Z(["\n    position: relative;\n"]))),B=(0,y.default)(g.olm)(l||(l=Z(["\n    margin-top: ",";\n    color: ",";\n"])),(e=>{var{theme:t}=e;return t.space[8]}),(e=>{var{theme:t}=e;return t.colors.$07_charcoal})),K=e=>{var t,{values:n,setValues:r,onFocus:i,onSearch:o,onClear:a,track:c,className:l}=e,{markInteractionStart:g}=(0,p.oR)(),{query:h,category_id:y}=n,P=(0,z.sY)(y),[S,_]=(0,b.useState)($(h)),k=(0,b.useRef)(S),[C,D]=(0,b.useState)(!1),N=()=>(0,O.v)(u.lO.get(5)),[q,Z]=(0,b.useState)(N()),{addTrackingContext:K}=(0,b.useContext)(m.U),{formatMessage:V}=(0,d.useIntl)(),Y=(0,b.useRef)(null),G=(0,b.useRef)(null),W=(e,t,n)=>{G.current={value:e,type:t,position:n},J(!1)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(G.current){var{value:t,type:i,position:a}=G.current,{query:c,category:l}=t,s=T(t,A),{region_id:u,city_id:d,distance:p,district_id:f}=n,g=i===F.SUGGESTION,v=i===F.HISTORY,h=c.trim()===k.current.trim()&&!g&&!v;_(c),k.current=c;var y=M(M(M({query:c,category_id:null==l?void 0:l.id},!v&&!g&&{region_id:u,city_id:d,distance:p,district_id:f}),{},{isSuggestion:g},v?s:null),h?n:null);r(M({},y)),K(j.S.SEARCH_REASON,{type:i,position:a}),K(j.S.SEARCH_FILTERS,{isAutoComplete:i===F.SUGGESTION,isRestored:i===F.HISTORY,isPopular:!1}),D(!1),null==o||o({type:i,value:t,isOption:g||v,values:M({},y),position:a,isEnter:e})}},Q=e=>{e.preventDefault(),e.stopPropagation(),G.current=null,null==c||c(s.if.events.clearButtonClick),r(M(M({},n),{},{query:""})),K(j.S.SEARCH_REASON,{type:"",position:void 0}),_(""),null==a||a()},X=()=>{setTimeout((()=>D(!1)),150)};return(0,f.m)(Y,X),(0,b.useEffect)((()=>{_($(h))}),[h]),(0,b.useEffect)((()=>{C&&Z(N())}),[C]),(0,b.useEffect)((()=>()=>{K(j.S.SEARCH_REASON,{type:"",position:void 0})}),[]),(0,I.jsxs)(U,{"data-testid":"search-autosuggession",ref:Y,className:l,children:[(0,I.jsx)(H,{id:"search","data-testid":"search-input","data-cy":"search-bar-input",autoComplete:"off",fullWidth:!0,value:S,prefix:(0,I.jsx)(B,{id:"search-icon"}),suffix:()=>S?(0,I.jsx)(x.l,{onClear:Q}):void 0,onChange:e=>{var t=(0,L.l)(e.target.value);_(t),t.length>2&&g(),r(M(M({},n),{},{query:t}),!1),G.current={value:{query:t,category:{id:y||0}},type:F.KEYWORD,position:0},K(j.S.SEARCH_REASON,{type:F.KEYWORD,position:0})},onFocus:e=>{null==c||c(s.if.events.filterClick),D(!0),null==i||i(e)},onBlur:X,onKeyDown:e=>{if("Enter"===e.key){e.preventDefault(),e.currentTarget.blur();var t=(0,L.l)(e.currentTarget.value);_(t),G.current||(G.current={value:{query:t,category:{id:y||0}},type:F.KEYWORD,position:0}),J(!0)}},placeholder:P}),C&&(0,I.jsx)(v.z,{staticRender:!0,hideOnClickOutside:!1,children:(0,I.jsxs)(w.qk,{width:null==Y||null===(t=Y.current)||void 0===t?void 0:t.clientWidth,pt:0,px:16,mt:0,maxHeight:400,children:[(0,I.jsx)(E,{label:(0,I.jsx)(w._I,{pt:6,children:V({id:"search.recents",defaultMessage:"Recent Search"})}),type:F.HISTORY,query:S||"",recentSearch:q,handleSelect:W,handleClear:(e,t)=>{e.stopPropagation(),e.preventDefault(),u.lO.remove(t),Z(N())}}),(0,I.jsx)(R,{label:(0,I.jsx)(w._I,{pt:6,children:V({id:"search.suggested",defaultMessage:"Suggested Search"})}),type:F.SUGGESTION,handleSelect:W,query:S})]})})]})}},26550:(e,t,n)=>{var r=n(71803),i=n(61146),o=n(48048),a=n(18154);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=e=>{var[t]=(0,i.L_)();return(0,r.useCallback)(((n,r,i)=>{var c,s;switch(r){case"history":e(o.if.events.restoredSuggestClick,l(l({category_id:n.category_id,keyword:n.query},(0,a.Z)(t,null!==(c=n.category_id)&&void 0!==c?c:null)),{},{if_look_for_popular:!1,if_look_for_autocomplete:!1,if_look_for_restored:!0}));break;case"suggestion":e(o.if.events.suggestedClick,l(l({category_id:n.category_id,keyword:n.query,cat_position:i},(0,a.Z)(t,null!==(s=n.category_id)&&void 0!==s?s:null)),{},{if_look_for_popular:!1,if_look_for_autocomplete:!0,if_look_for_restored:!1}));break;default:e(o.if.events.keywordSearch,{keyword:n.query})}}),[t,e])}},22489:(e,t,n)=>{n.d(t,{sY:()=>o});var r=n(90845),i=n(58560),o=e=>{var{formatMessage:t}=(0,r.useIntl)(),n=(e=>{var{isFeatureFlag:t,getJsonFeatureFlag:n}=(0,i.Z)(),r=t("car-parts-search-placeholder-update");if(!e||!r)return!1;try{var o=n("car-parts-categories");return(Array.isArray(null==o?void 0:o.categories)?null==o?void 0:o.categories:[]).includes(e)}catch(e){return!1}})(e);return t(n?{id:"search.carparts.placeholder",defaultMessage:"Search by part name or code ..."}:{id:"search.placeholder",defaultMessage:"Search for ..."})}},25394:(e,t,n)=>{n.d(t,{Al:()=>j,Qv:()=>w,Ux:()=>x,_I:()=>m,qk:()=>b,rw:()=>O,w5:()=>P});var r,i,o,a,c,l,s,u,d=n(98283),p=n(79065),f=n(68184),g=n(82998),v=n(93949),h=n(46070);function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=d.default.div(r||(r=y(["\n    ",";\n    ",";\n    overflow: auto;\n\n    & > li {\n        height: 56px;\n    }\n\n    & > li:hover {\n        background: ",";\n    }\n\n    & > li > svg {\n        width: ",";\n        height: ",";\n    }\n\n    ::-webkit-scrollbar {\n        -webkit-appearance: none;\n        width: 16px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        box-shadow: inset 0 0 14px 14px ",";\n        border: solid 6px transparent;\n        border-radius: 14px;\n    }\n"])),p.Dh,p.bK,(e=>{var{theme:t}=e;return t.colors.$03_gray}),(e=>{var{theme:t}=e;return t.sizes[16]}),(e=>{var{theme:t}=e;return t.sizes[16]}),(e=>{var{theme:t}=e;return t.colors.$05_gray})),m=(0,d.default)(h.P4)(i||(i=y(["\n    ",";\n    text-transform: uppercase;\n    margin-top: ",";\n"])),p.Dh,(e=>{var{theme:t}=e;return t.space[8]})),j=(d.default.div(o||(o=y(["\n    ",";\n    ","\n"])),p.FK,(e=>{var{theme:t}=e;return"\n        position: absolute;\n        top: 0px;\n        width:200px;\n        background-color: ".concat(t.colors.$01_white,";\n        border-radius: ").concat(t.radii[4],";\n        height: 400px;\n        overflow: auto;\n        box-shadow: 0 1px 4px hsl(0deg 0% 0% / 16%);\n        & > li > svg {\n            width: ").concat(t.sizes[16],";\n            height: ").concat(t.sizes[16],";\n        }\n        ::-webkit-scrollbar {\n            -webkit-appearance: none;\n            width: 16px;\n        }\n\n        ::-webkit-scrollbar-thumb {\n            box-shadow: inset 0 0 14px 14px ").concat(t.colors.$05_gray,";\n            border: solid 6px transparent;\n            border-radius: 14px;\n        }\n")})),(0,d.default)(f.z.Item)(a||(a=y(["\n    cursor: pointer;\n    position: relative;\n    ","\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    min-height: 52px;\n\n    &:hover {\n        background: ",";\n    }\n"])),(e=>{var{theme:t}=e;return"\n        padding-top: ".concat(t.space[8],";\n        gap: ").concat(t.sizes[4],";    \n    ")}),(e=>{var{theme:t}=e;return t.colors.$03_gray}))),O=(0,d.default)(g.Qd.Collapse)(c||(c=y(["\n    ","\n"])),(e=>{var{autoHeight:t,maxHeight:n,theme:r}=e;return"\n    max-height: ".concat(t?"auto":n||"200px",";\n    margin-right: 8px;\n    overflow: auto;\n    & label {\n        cursor: pointer;\n    }\n\n    ::-webkit-scrollbar {\n        width: ").concat(r.sizes[4],";\n        height: ").concat(r.sizes[4],";\n    }\n    ::-webkit-scrollbar-thumb {\n        background: #b3afb3;\n        border-radius: ").concat(r.radii[0],";\n    }\n    ::-webkit-scrollbar-thumb:hover {\n        background: #b3afb3;\n    }\n    ::-webkit-scrollbar-track {\n        background: #f0f0f0;\n        border-radius: ").concat(r.radii[0],";\n        box-shadow: inset 0px 0px 0px 0px #f0f0f0;\n    }")})),w=d.default.div(l||(l=y(["\n    ","\n"])),(e=>{var{theme:t}=e;return"\n        padding-top:  ".concat(t.space[16],";\n    ")})),x=d.default.div(s||(s=y(["\n    margin: ",";\n    font-size: ",";\n    line-height: ",";\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    gap: ",";\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n"])),(e=>{var{theme:t}=e;return"".concat(t.space[0]," ").concat(t.space[0]," ").concat(t.space[6]," ").concat(t.space[0])}),(e=>{var{theme:t}=e;return t.fontSizes[14]}),(e=>{var{theme:t}=e;return t.lineHeights[18]}),(e=>{var{theme:t}=e;return t.space[8]})),P=(0,d.default)(v.Tag)(u||(u=y(["\n    padding: ",";\n"])),(e=>{var{theme:t}=e;return"".concat(t.space[0]," ").concat(t.space[8])}))},65609:(e,t,n)=>{function r(e){return e?e.replace(/<[^>]*>/g,""):""}n.d(t,{l:()=>r})},94510:(e,t,n)=>{n.d(t,{Jz:()=>y,UR:()=>b,Kx:()=>h,A6:()=>m});var r=n(69221),i=n(7207),o=n(14646),a=n.n(o),c=n(24774),l=n(24364),s=n.n(l),u=n(52215),d=n.n(u);function p(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=e=>new Promise(((t,n)=>{if(!e||a()(e.latitude)||a()(e.longitude))return t(null);(0,r.a5)("geo-encoder/location-autocomplete",{queryParams:g(g({},e),{},{limit:1})}).then((e=>{var{data:n}=e,r=(0,c.Z)(n);t(r[0]||null)})).catch(n)})),y=(e,t)=>new Promise(((n,o)=>{if(!e)return n(null);(0,r.a5)("geo-encoder/cities/".concat(e),{queryParams:g({},t===i.dw.invoicing&&g({},{scope:i.dw.invoicing}))}).then((e=>{var{data:t}=e,r=function(e){var t=s()(e,"region",""),n=s()(e,"province",null),r=s()(e,"county",null),i=s()(e,"name",""),o=d()([i,r,n,t]).filter((e=>e)).join(", ");return{lon:s()(e,"longitude"),lat:s()(e,"latitude"),zoom:s()(e,"zoom"),radius:s()(e,"radius"),regionId:s()(e,"region_id",""),region:t,cityId:s()(e,"id",null),city:i,districtId:null,district:null,title:s()(e,"name",""),description:o,county:r}}(t);n(r||null)})).catch(o)})),b=e=>new Promise(((t,n)=>{if(!e)return t(null);(0,r.a5)("geo-encoder/districts/".concat(e),{}).then(function(){var e,n=(e=function*(e){var n,{data:i}=e,o=yield(n=i.city_id,new Promise(((e,t)=>{if(!n)return e(null);(0,r.a5)("geo-encoder/cities/".concat(n),{}).then((t=>{var{data:n}=t;e(n||null)})).catch(t)})));t(function(e){var t=s()(e,"region",null),n=s()(e,"county",null),r=s()(e," region_id",""),i=s()(e,"name",""),o=s()(e,"id",null),a=s()(e,"district_name",""),c=s()(e,"district_id",null);return{city:i,cityId:o,description:d()([a,i,n,t]).filter((e=>e)).join(", "),district:a,districtId:c,lon:s()(e,"longitude"),lat:s()(e,"latitude"),radius:s()(e,"radius"),region:t,regionId:r,title:a,zoom:s()(e,"zoom")}}(g(g({},o),{},{district_name:i.name,district_id:i.id,zoom:i.zoom,radius:i.radius,latitude:i.latitude,longitude:i.longitude})))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,c,"next",e)}function c(e){p(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()).catch(n)})),m=e=>new Promise(((t,n)=>{if(!e)return t(null);(0,r.a5)("geo-encoder/regions/".concat(e),{}).then((e=>{var{data:n}=e;t(function(e){return{regionId:s()(e,"id",null),region:s()(e,"name",""),title:s()(e,"name",""),description:"",cityId:null,districtId:null}}(n))})).catch(n)}))},24774:(e,t,n)=>{var r=n(48508);t.Z=e=>e?e.reduce(((e,t)=>[...e,(0,r.ak)(t)]),[]):[]},17857:(e,t,n)=>{var r=n(24364),i=n.n(r);t.Z=function(e,t,n){return e.reduce(((e,r)=>{var o=i()(r,"province",null),a="".concat(o&&o!==n?"".concat(o,", "):"").concat(n||"");return[...e,{regionId:t,region:n,cityId:i()(r,"id",null),city:i()(r,"name",""),districtId:null,title:i()(r,"name",""),description:a,has_districts:i()(r,"has_districts",!1)}]}),[])}},48474:(e,t,n)=>{var r=n(24364),i=n.n(r),o=n(48508);t.Z=function(e,t,n,r,a){return e.reduce(((e,c)=>{var l={regionId:t,region:n,cityId:r,city:a,districtId:i()(c,"id",null),title:i()(c,"name","")||a,description:i()(c,"name",""),lat:i()(c,"latitude"),lon:i()(c,"longitude"),radius:i()(c,"radius"),zoom:i()(c,"zoom")};return[...e,(0,o.I8)(l)]}),[])}},66275:(e,t,n)=>{n.d(t,{Kx:()=>g,Rf:()=>j,VV:()=>w,gT:()=>y,hj:()=>b,n4:()=>O,nx:()=>h,w8:()=>m});var r=n(69221),i=n(29483),o=n(94510),a=n(24774),c=n(17857),l=n(48474),s=n(72003),u=n(26753);function d(e,t,n,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,c,"next",e)}function c(e){d(o,r,i,a,c,"throw",e)}a(void 0)}))}}var f={},g=function(){var e=p((function*(e){var t=[];try{var{data:n}=yield(0,r.a5)("geo-encoder/location-autocomplete",{queryParams:{query:e}});t=(0,a.Z)(n)}catch(e){i.default.captureException(e)}return t}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=p((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var{data:n}=yield(0,r.a5)(e,t);return n}catch(e){i.default.captureException(e)}}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=p((function*(){try{if(f.regions)return f.regions;var e=yield v("geo-encoder/regions"),t=(0,s.Z)(e);return f.regions=t,t}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=p((function*(e,t){try{if(!e)return;if(f[e])return f[e];var n=yield v("geo-encoder/regions/".concat(e,"/cities/?limit=").concat(2e3)),r=(0,c.Z)(n,e,t);return f[e]=r,r}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}}));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=p((function*(e,t,n,r){try{if(!n||!e)return;if(f[e])return f[e];var o=yield v("geo-encoder/cities/".concat(e,"/districts")),a=(0,l.Z)(o,n,r,e,t);return f[e]=!f[e]&&a,a}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}}));return function(t,n,r,i){return e.apply(this,arguments)}}(),m=function(){var e=p((function*(e){try{return yield(0,o.Jz)(e)}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}return{}}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=p((function*(e){try{return yield(0,o.UR)(e)}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}return{}}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=p((function*(e){try{return yield(0,o.A6)(e)}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}return{}}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=p((function*(e){try{var t,n={query:e};if((null===(t=f["suggested-".concat(e)])||void 0===t?void 0:t.length)>0)return f["suggested-".concat(e)];var r=yield v("geo-encoder/location-autocomplete",{queryParams:n}),o=(0,a.Z)(r);return f["suggested-".concat(e)]=o,o}catch(e){i.default.captureException(e),i.default.captureExceptionNewRelic({exception:e,capability:u.C.SearchListingResult})}}));return function(t){return e.apply(this,arguments)}}()},72003:(e,t,n)=>{var r=n(24364),i=n.n(r);t.Z=function(e){return e.reduce(((e,t)=>[...e,{regionId:i()(t,"id",null),region:i()(t,"name",""),title:i()(t,"name",""),description:"",cityId:null,districtId:null}]),[])}},44848:(e,t,n)=>{var r=n(48508);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.jZ)("last_user_location-v1.0.1"),l=(0,r.jZ)("geo_location"),s=(0,r.jZ)("geo_permission_allowed"),u=(0,r.jZ)("last-location");t.Z={lastLocation:o(o({},c),{},{set:e=>{s.get()&&c.set(e)},get:()=>s.get()?c.get():null}),geoLocation:o(o({},l),{},{set:e=>{s.get()&&l.set(e)},get:()=>s.get()?l.get():null}),permissionAllowed:s,userLastLocationParams:u}},42087:(e,t,n)=>{t.ZP=(e,t)=>navigator.geolocation.getCurrentPosition(e,t)},84605:(e,t,n)=>{n.d(t,{d:()=>r});var r=function(e){return e[e.PERMISSION_DENIED=1]="PERMISSION_DENIED",e[e.POSITION_UNAVAILABLE=2]="POSITION_UNAVAILABLE",e[e.TIMEOUT=3]="TIMEOUT",e}({})}}]);
//# sourceMappingURL=99431.c5c6703c2.chunk.js.map